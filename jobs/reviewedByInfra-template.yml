---
vars:
stub: "https://issues.apache.org/jira/rest/api/2"
headers:
  Content-Type: "application/json"
  Authorization: "basic"
auth:
  username:
  password: 
tasks:
  - name: "Authenticate"
    action:
      req: "get"
      uri: "issue/createmeta"
  - name: "Query Tickets"
    action:
      req: "post"
      uri: "search"
      data:
        jql: "project = INFRA AND labels = ReviewedByInfra"
        fields: [ "key" ]
    output: 
      write_to: "var"
      name: "issues"
      content: "content"
  - name: "Dump content to file with template string"
    action:
      dump: "{{ issues }}"
    output:
      write_to: "screen"
      content: "template"
      template_str: "{% for issue in issues %}{{ issue.key }} {% endfor %}"
verbose: False
